<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×”××©×—×§ ×©×œ ×ª×‘×•×¨ - ×’×¨×¡×” × ×§×™×™×” ×•××•×©×œ××ª</title>
    <style>
        /* CSS: ×¢×™×¦×•×‘ × ×§×™, ×™×¤×” ×•×–×•×¨× ×œ×™×œ×“×” ×‘×ª 9 */
        body {
            font-family: 'Assistant', Arial, sans-serif;
            background-color: #F0F8FF; /* Alice Blue - ×¨×§×¢ ×¨×’×•×¢ */
            background-image: linear-gradient(135deg, #f0f8ff 0%, #e6e6fa 100%);
            text-align: center;
            direction: rtl;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 700px;
            margin: 0 auto;
            background: #FFFFFF;
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 15px 40px rgba(138, 43, 226, 0.2);
            border: 6px solid #FF69B4; /* Hot Pink - ×’×‘×•×œ ×‘×•×œ×˜ */
        }
        h1 {
            color: #8A2BE2; /* Blue Violet */
            margin-bottom: 10px;
            font-size: 2.8em;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }
        h2 {
            color: #4B0082; /* Indigo */
            margin-bottom: 30px;
            font-size: 1.6em;
        }
        .score-board {
            font-size: 1.3em;
            color: #555;
            margin-bottom: 25px;
            font-weight: bold;
        }
        
        /* ×›×¤×ª×•×¨×™ ×‘×—×™×¨×ª ××¦×‘ */
        .mode-btn {
            background-color: #9370DB; /* Medium Purple */
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.6em;
            border-radius: 15px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            margin: 15px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }
        .mode-btn:hover {
            background-color: #6A5ACD;
            transform: translateY(-3px);
        }

        /* ××™×œ×” ×›×ª×•×‘×” */
        #word-text {
            font-size: 3.5em; 
            font-weight: 900;
            color: #483D8B; /* Dark Slate Blue - ×›×—×•×œ-×¡×’×•×œ × ×§×™ */
            margin-bottom: 20px;
            min-height: 60px;
            direction: ltr;
        }

        /* ×›×¤×ª×•×¨ ×”×¤×¢×œ×ª ××•×“×™×• */
        .play-btn {
            background-color: #FFD700; /* Gold */
            color: #4B0082;
            border: none;
            padding: 20px 40px;
            font-size: 1.8em;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
            margin-bottom: 35px;
            box-shadow: 0 6px 15px rgba(255, 215, 0, 0.5);
        }
        .play-btn:hover {
            transform: scale(1.1);
        }

        /* ×¨×©×ª ××¤×©×¨×•×™×•×ª ×”×ª×©×•×‘×” */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .option-btn {
            background-color: #E0FFFF; 
            border: 3px solid #FF69B4; 
            padding: 30px 15px;
            font-size: 1.5em;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            color: #333;
            font-weight: bold;
            min-height: 90px;
        }
        .option-btn:hover:not(:disabled) {
            background-color: #AFEEEE;
            transform: scale(1.02);
        }

        .feedback {
            /* ×”×¤×™×“×‘×§ ×”×—×™×•×‘×™ ×”×•×¤×š ×œ×›×—×•×œ-×¡×’×•×œ × ×§×™ */
            height: 60px; 
            margin-top: 10px;
            margin-bottom: 15px;
            font-size: 2em;
            font-weight: 800;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        
        /* ×›×¤×ª×•×¨ ×—×–×¨×” */
        .back-btn {
            background-color: #C0C0C0; 
            color: #4B0082;
            border: none;
            padding: 10px 25px;
            font-size: 1.2em;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 25px;
            transition: background-color 0.2s;
        }
        .back-btn:hover {
            background-color: #A9A9A9;
        }
        .hidden { display: none; }
        
        /* --- MEDIA QUERY: ×”×ª×××” ×œ××¡×›×™ ××•×‘×™×™×œ (×¤×—×•×ª ×-600 ×¤×™×§×¡×œ×™×) --- */
        @media (max-width: 600px) {
            .container {
                padding: 20px 15px;
                margin-top: 10px;
            }
            h1 {
                font-size: 2em;
            }
            /* ×”×§×˜× ×ª ×’×•×“×œ ×”×¤×•× ×˜ ×©×œ ×”××™×œ×” ×”×›×ª×•×‘×” - ×¢×›×©×™×• ×§×˜× ×” ×™×•×ª×¨! */
            #word-text {
                font-size: 2em; 
                margin-bottom: 10px;
            }
            .play-btn {
                padding: 15px 30px;
                font-size: 1.5em;
                margin-bottom: 20px;
            }
            .feedback {
                font-size: 1.5em;
                height: 40px; 
                margin-top: 5px; 
            }
            .options-grid {
                gap: 10px;
            }
            .option-btn {
                padding: 20px 10px;
                font-size: 1.2em;
                min-height: 70px;
            }
            .back-btn {
                margin-top: 20px;
            }
        }
    </style>
</head>
<body>

<div class="container" id="start-screen">
    <h1>×‘×¨×•×›×” ×”×‘××” ×ª×‘×•×¨! ğŸ‘‘</h1>
    <h2>×‘×—×¨×™ ××ª×’×¨:</h2>
    <button class="mode-btn" onclick="startGame('FULL')">ğŸ“š 1. ××™×œ×™× ×œ×ª×¨×’×•×œ (×”×›×•×œ)</button>
    <button class="mode-btn" onclick="startGame('LETTERS')">ğŸ…°ï¸ 2. ××•×ª×™×•×ª ×œ×ª×¨×’×•×œ (××™×œ×™× ×§×¦×¨×•×ª)</button>
</div>

<div class="container hidden" id="game-screen">
    <div class="score-board">
        × ×™×§×•×“: <span id="score">0</span> | ×©××œ×”: <span id="current-q">0</span>/15
    </div>
    
    <div id="word-text"></div>
    
    <button class="play-btn" onclick="playCurrentWord()">ğŸ”Š ×œ×—×¦×™ ×œ×©××•×¢</button>
    
    <div id="feedback" class="feedback"></div>

    <div class="options-grid" id="options-container">
        </div>
    
    <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
    </div>
    
    <button class="back-btn" onclick="goBack()">ğŸ  ×—×–×¨×” ×œ×‘×—×™×¨×ª ××ª×’×¨</button>
</div>

<div class="container hidden" id="end-screen">
    <h1 style="font-size: 3em; color: #4682B4;">Well Done! ğŸ†</h1>
    <h2>×¡×™×™××ª ××ª ×”×¡×‘×‘, ×›×œ ×”×›×‘×•×“ ×ª×‘×•×¨!</h2>
    <p style="font-size: 1.8em;">×”×¦×™×•×Ÿ ×”×¡×•×¤×™ ×©×œ×š: <span id="final-score"></span></p>
    <button class="mode-btn" onclick="restartGame()">×©×—×§×™ ×©×•×‘</button>
</div>

<script>
    // --- Data ---
    const VOCABULARY_FULL = [
        // ××™×œ×™× ××”×¨×©×™××” ×”××§×•×¨×™×ª
        { eng: "boy", heb: "×™×œ×“" }, { eng: "girl", heb: "×™×œ×“×”" }, { eng: "mom", heb: "×××" },
        { eng: "cat", heb: "×—×ª×•×œ" }, { eng: "dog", heb: "×›×œ×‘" }, { eng: "black", heb: "×©×—×•×¨" },
        { eng: "white", heb: "×œ×‘×Ÿ" }, { eng: "red", heb: "××“×•×" }, { eng: "blue", heb: "×›×—×•×œ" },
        { eng: "zero", heb: "××¤×¡" }, { eng: "one", heb: "××—×“" }, { eng: "two", heb: "×©×ª×™×™×" },
        { eng: "three", heb: "×©×œ×•×©" }, { eng: "four", heb: "××¨×‘×¢" }, { eng: "five", heb: "×—××©" },
        { eng: "six", heb: "×©×©" }, { eng: "seven", heb: "×©×‘×¢" }, { eng: "eight", heb: "×©××•× ×”" },
        { eng: "nine", heb: "×ª×©×¢" }, { eng: "ten", heb: "×¢×©×¨" }, { eng: "eleven", heb: "××—×“ ×¢×©×¨×”" },
        { eng: "twelve", heb: "×©×ª×™× ×¢×©×¨×”" }, { eng: "apple", heb: "×ª×¤×•×—" }, { eng: "man", heb: "××™×©" },
        { eng: "woman", heb: "××™×©×”" }, { eng: "green", heb: "×™×¨×•×§" }, { eng: "yellow", heb: "×¦×”×•×‘" },
        { eng: "orange", heb: "×›×ª×•×" }, { eng: "baby", heb: "×ª×™× ×•×§/×ª" }, { eng: "book", heb: "×¡×¤×¨" }, 
        { eng: "box", heb: "×§×•×¤×¡×”" }, { eng: "big", heb: "×’×“×•×œ" }, { eng: "small", heb: "×§×˜×Ÿ" }, 
        { eng: "notebook", heb: "××—×‘×¨×ª" }, { eng: "nose", heb: "××£" }, { eng: "computer", heb: "××—×©×‘" }, 
        { eng: "sister", heb: "××—×•×ª" }, { eng: "brother", heb: "××—" }, { eng: "dad", heb: "××‘×" }, 
        { eng: "desk", heb: "×©×•×œ×—×Ÿ ×¢×‘×•×“×”" }, { eng: "duck", heb: "×‘×¨×•×•×–" }, { eng: "sad", heb: "×¢×¦×•×‘" }, 
        { eng: "bad", heb: "×¨×¢" }, { eng: "grandma", heb: "×¡×‘×ª×" }, { eng: "grandpa", heb: "×¡×‘×" }, 
        { eng: "gift", heb: "××ª× ×”" }, { eng: "gray", heb: "××¤×•×¨" }, { eng: "door", heb: "×“×œ×ª" }, 
        { eng: "house", heb: "×‘×™×ª" }
    ];

    const VOCABULARY_LETTERS = [
        // ××™×œ×™× ×§×¦×¨×•×ª (××•×ª×™×•×ª × ×œ××“×•×ª + Sight Words)
        { eng: "dad", heb: "××‘×" }, { eng: "bag", heb: "×ª×™×§" }, { eng: "and", heb: "×•..." }, 
        { eng: "bad", heb: "×¨×¢" }, { eng: "Ann", heb: "××Ÿ (×©×)" }, { eng: "banana", heb: "×‘× × ×”" }, 
        { eng: "Dan", heb: "×“×Ÿ (×©×)" }, { eng: "add", heb: "×œ×”×•×¡×™×£ / ×—×‘×¨" }, { eng: "band", heb: "×œ×”×§×”" },
        { eng: "Look", heb: "×ª×¡×ª×›×œ×™ / ×œ×”×¡×ª×›×œ" }, { eng: "I am", heb: "×× ×™" }
    ];

    const POSITIVE_PHRASES = ["×ª×‘×•×¨, ×›×œ ×”×›×‘×•×“!", "×ª×‘×•×¨, ××ª ×¤×©×•×˜ ××“×”×™××”!", "×•×•××•, ×ª×‘×•×¨, ××™×–×• ×—×›××”!", "×ª×‘×•×¨, ×”××©×™×›×™ ×›×š!", "×ª×‘×•×¨, ××œ×•×¤×”!"];
    const SUPPORTIVE_PHRASES = ["×ª×‘×•×¨, × ×¡×™ ×©×•×‘.", "×ª×‘×•×¨, ×›××¢×˜! × ×¡×™ ×©×•×‘.", "×ª×‘×•×¨, ×œ× × ×•×¨×! ×ª× ×¡×™ ×©×•×‘.", "×ª×‘×•×¨, ×ª×ª×¢×•×“×“×™, ××ª ×™×›×•×œ×”!"];

    // --- State ---
    let currentPool = [];
    let currentIndex = 0;
    let score = 0;
    let modeSource = null;
    const TOTAL_QUESTIONS = 15;
    let isProcessing = false;
    const SUCCESS_COLOR = "#4682B4"; // Steel Blue - ×›×—×•×œ × ×§×™
    const WRONG_COLOR = "#FF6347"; // Tomato - ××“×•×-×›×ª×•× ××¢×•×“×“

    // --- Speech Setup ---
    const synth = window.speechSynthesis;

    // --- Screen Logic ---
    function showScreen(id) {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.add('hidden');
        document.getElementById('end-screen').classList.add('hidden');
        document.getElementById(id).classList.remove('hidden');
    }

    function goBack() {
        showScreen('start-screen');
    }

    function startGame(mode) {
        modeSource = (mode === 'FULL') ? VOCABULARY_FULL : VOCABULARY_LETTERS;
        
        currentIndex = 0;
        score = 0;
        document.getElementById('score').innerText = score;
        
        currentPool = [...modeSource];
        shuffleArray(currentPool);
        currentPool = currentPool.slice(0, TOTAL_QUESTIONS);

        showScreen('game-screen');
        loadQuestion();
    }
    
    function loadQuestion() {
        if (currentIndex >= TOTAL_QUESTIONS) {
            endGame();
            return;
        }

        const currentItem = currentPool[currentIndex];
        document.getElementById('feedback').innerText = "";
        document.getElementById('current-q').innerText = currentIndex + 1;
        
        document.getElementById('word-text').innerText = currentItem.eng;
        
        const progress = (currentIndex / TOTAL_QUESTIONS) * 100;
        document.getElementById('progress-bar').style.width = progress + "%";

        const optionsContainer = document.getElementById('options-container');
        optionsContainer.innerHTML = '';
        
        const allHebrew = VOCABULARY_FULL.map(item => item.heb);
        let distractors = allHebrew.filter(heb => heb !== currentItem.heb);
        shuffleArray(distractors);
        
        let optionsText = distractors.slice(0, Math.min(3, distractors.length));
        optionsText.push(currentItem.heb);
        shuffleArray(optionsText);

        optionsText.forEach(hebText => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = hebText; 
            btn.onclick = () => checkAnswer(hebText, btn, currentItem.heb);
            optionsContainer.appendChild(btn);
        });

        setTimeout(() => playCurrentWord(), 600);
        isProcessing = false;
    }

    function playCurrentWord() {
        if (currentIndex < currentPool.length) {
            const word = currentPool[currentIndex].eng;
            const utterance = new SpeechSynthesisUtterance(word);
            utterance.lang = 'en-US';
            utterance.rate = 0.9; 
            synth.speak(utterance);
        }
    }

    function checkAnswer(selectedHebrew, btnElement, correctHebrew) {
        if (isProcessing) return;
        
        const feedbackEl = document.getElementById('feedback');
        
        if (selectedHebrew === correctHebrew) {
            isProcessing = true;
            score++;
            document.getElementById('score').innerText = score;
            
            feedbackEl.style.color = SUCCESS_COLOR; // ×¦×‘×¢ ×›×—×•×œ ×—×“×© ×œ×”×¦×œ×—×”
            feedbackEl.innerText = POSITIVE_PHRASES[Math.floor(Math.random() * POSITIVE_PHRASES.length)];
            btnElement.style.backgroundColor = "#B0E0E6"; // ×—×™×•×•×™ ×”×¦×œ×—×” ×¢×œ ×”×›×¤×ª×•×¨

            setTimeout(() => {
                currentIndex++;
                loadQuestion();
            }, 1500);
        } else {
            feedbackEl.style.color = WRONG_COLOR; // ×¦×‘×¢ ×˜×¢×•×ª
            feedbackEl.innerText = SUPPORTIVE_PHRASES[Math.floor(Math.random() * SUPPORTIVE_PHRASES.length)];
            btnElement.style.backgroundColor = "#FFC0CB"; // ×—×™×•×•×™ ×˜×¢×•×ª ×¢×œ ×”×›×¤×ª×•×¨
            btnElement.disabled = true;
        }
    }

    function endGame() {
        document.getElementById('progress-bar').style.width = "100%";
        showScreen('end-screen');
        document.getElementById('final-score').innerText = score + " / " + TOTAL_QUESTIONS;
    }

    function restartGame() {
        goBack(); 
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    // Start
    window.onload = () => showScreen('start-screen');
</script>

</body>
</html>